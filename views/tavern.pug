extends layout
block style
    style.
        .table-hidden {
            display: none;
        }
block content
    main#content
        .container
            .d-md-flex.justify-content-between.align-items-center.py-3
                .mb-1.mb-md-0
                    h1.h4.mb-0 Tavern Market Listing
            .row
                .col-md-12.col-xs-12.col-sm-12
                    .card
                        .card-body(style="padding: 5px")
                            .table-responsive
                                table.table.table-hover.display#tableTavern(width="100%" cellspacing="0")
                                    thead.thead-light
                                        tr
                                            th ID
                                            th Rarity
                                            th Gen
                                            th Lvl
                                            th Class
                                            th Prof
                                            th Boost
                                            th Stats
                                            th Skill
                                            th Summ
                                            th Owner
                                            th Price
                                    tbody

block script
    script.
        var tableTxnOther;
        var action = '#{action}';
        $(function () {
            $('.nameMethod').tooltip()

            tableTxn = $('#tableTavern').DataTable({
                serverSide: true,
                "pageLength":  20,
                searching : false,
                "autoWidth" : true,
                fixedColumns: true,
                ajax : '/tavern/list/dataTable',
                responsive: true,
                lengthChange: false,
                columns : [
                    {
                        "data" : "heroId",
                        "width": "10"
                    },{
                        "data" : "rarity",
                    },{
                        "data" : "generation",
                    },{
                        "data" : "level",
                    },{
                        "data" : "class",
                    },{
                        "data" : "profession",
                    },{
                        "data" : "boost",
                    },{
                        "data" : "stats",
                    },{
                        "data" : "skill",
                        "width": "20"
                    },{
                        "data" : "summons",
                        "width": "10"
                    },{
                        "data" : "owner",
                        "width": "30"
                    },{
                        "data" : "price",
                    }
                ],
                columnDefs : [
                    { width: "10%", targets: 0 },
                    { width: "8%", targets: 1 },
                    { width: "5%", targets: 2 },
                    { width: "5%", targets: 3 },
                    { width: "10%", targets: 4 },
                    { width: "10%", targets: 5 },
                    { width: "3%", targets: 6 },
                    { width: "5%", targets: 7 },
                ],
            });
        });

        function toggleStats(element) {
            $(element).closest("div").find("table").slideToggle("fade")
            return false;
        }